/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => BlueskyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = { handle: "", password: "", defaultHashtags: "" };
var BlueskyPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.accessJwt = "";
    this.refreshJwt = "";
    this.userAvatar = "";
  }
  async onload() {
    await this.loadSettings();
    this.addCommand({ id: "post-selection-to-bluesky", name: "Post selection to Bluesky", editorCallback: (editor, view) => {
      const selection = editor.getSelection();
      if (selection == null ? void 0 : selection.trim())
        new PostModal(this.app, this, selection).open();
      else
        new import_obsidian.Notice("\u30C6\u30AD\u30B9\u30C8\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044");
    } });
    this.addCommand({ id: "post-note-to-bluesky", name: "Post current note to Bluesky", editorCallback: (editor, view) => {
      const content = editor.getValue();
      if (content == null ? void 0 : content.trim())
        new PostModal(this.app, this, content).open();
      else
        new import_obsidian.Notice("\u30CE\u30FC\u30C8\u304C\u7A7A\u3067\u3059");
    } });
    this.addCommand({ id: "create-new-post", name: "Create new Bluesky post", callback: () => new PostModal(this.app, this, "").open() });
    this.addRibbonIcon("send", "Post to Bluesky", () => new PostModal(this.app, this, "").open());
    this.addSettingTab(new BlueskySettingTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async login() {
    if (!this.settings.handle || !this.settings.password) {
      new import_obsidian.Notice("Bluesky\u306E\u30CF\u30F3\u30C9\u30EB\u3068\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u8A2D\u5B9A\u3057\u3066\u304F\u3060\u3055\u3044");
      return false;
    }
    try {
      const resp = await fetch("https://bsky.social/xrpc/com.atproto.server.createSession", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ identifier: this.settings.handle, password: this.settings.password }) });
      if (!resp.ok)
        throw new Error(`\u30ED\u30B0\u30A4\u30F3\u306B\u5931\u6557\u3057\u307E\u3057\u305F: ${resp.status}`);
      const data = await resp.json();
      this.accessJwt = data.accessJwt;
      this.refreshJwt = data.refreshJwt;
      try {
        const profileResp = await fetch(`https://bsky.social/xrpc/app.bsky.actor.getProfile?actor=${data.did}`, { headers: { "Authorization": `Bearer ${this.accessJwt}` } });
        if (profileResp.ok) {
          const profileData = await profileResp.json();
          this.userAvatar = profileData.avatar || "";
        }
      } catch (e) {
        console.error("\u30A2\u30D0\u30BF\u30FC\u306E\u53D6\u5F97\u306B\u5931\u6557\u3057\u307E\u3057\u305F:", e);
      }
      return true;
    } catch (error) {
      new import_obsidian.Notice(`\u30ED\u30B0\u30A4\u30F3\u30A8\u30E9\u30FC: ${error.message}`);
      return false;
    }
  }
  detectFacets(text) {
    const facets = [];
    const encoder = new TextEncoder();
    const linkRegex = /https?:\/\/[^\s]+/g;
    let match;
    while ((match = linkRegex.exec(text)) !== null) {
      const uri = match[0];
      const byteStart = encoder.encode(text.slice(0, match.index)).length;
      const byteEnd = byteStart + encoder.encode(uri).length;
      facets.push({ index: { byteStart, byteEnd }, features: [{ $type: "app.bsky.richtext.facet#link", uri }] });
    }
    const hashtagRegex = /#[\w\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+/g;
    while ((match = hashtagRegex.exec(text)) !== null) {
      const tag = match[0];
      if (tag.length > 66)
        continue;
      const byteStart = encoder.encode(text.slice(0, match.index)).length;
      const byteEnd = byteStart + encoder.encode(tag).length;
      const tagWithoutHash = tag.slice(1);
      facets.push({ index: { byteStart, byteEnd }, features: [{ $type: "app.bsky.richtext.facet#tag", tag: tagWithoutHash }] });
    }
    return facets.length > 0 ? facets : void 0;
  }
  async uploadBlob(blob, mimeType) {
    if (!this.accessJwt) {
      if (!await this.login())
        throw new Error("\u30ED\u30B0\u30A4\u30F3\u306B\u5931\u6557\u3057\u307E\u3057\u305F");
    }
    const response = await fetch("https://bsky.social/xrpc/com.atproto.repo.uploadBlob", { method: "POST", headers: { "Content-Type": mimeType, "Authorization": `Bearer ${this.accessJwt}` }, body: blob });
    if (!response.ok) {
      if (response.status === 401 && await this.login())
        return this.uploadBlob(blob, mimeType);
      throw new Error(`\u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306B\u5931\u6557\u3057\u307E\u3057\u305F: ${response.status}`);
    }
    return await response.json();
  }
  async postToBluesky(text, embed) {
    if (!text.trim() && (!embed || embed.$type !== "app.bsky.embed.images")) {
      new import_obsidian.Notice("\u6295\u7A3F\u5185\u5BB9\u304C\u7A7A\u3067\u3059");
      return false;
    }
    if (new TextEncoder().encode(text).length > 300) {
      new import_obsidian.Notice(`\u6295\u7A3F\u304C300\u30D0\u30A4\u30C8\u3092\u8D85\u3048\u3066\u3044\u307E\u3059\u3002\u30C6\u30AD\u30B9\u30C8\u3092\u77ED\u304F\u3057\u3066\u304F\u3060\u3055\u3044\u3002`);
      return false;
    }
    if (!this.accessJwt) {
      if (!await this.login())
        return false;
    }
    try {
      const record = { text, createdAt: new Date().toISOString(), $type: "app.bsky.feed.post" };
      const facets = this.detectFacets(text);
      if (facets)
        record.facets = facets;
      if (embed)
        record.embed = embed;
      const response = await fetch("https://bsky.social/xrpc/com.atproto.repo.createRecord", { method: "POST", headers: { "Content-Type": "application/json", "Authorization": `Bearer ${this.accessJwt}` }, body: JSON.stringify({ repo: this.settings.handle, collection: "app.bsky.feed.post", record }) });
      if (!response.ok) {
        if (response.status === 401 && await this.login())
          return this.postToBluesky(text, embed);
        const errorBody = await response.json();
        console.error("Bluesky post failed:", errorBody);
        throw new Error(`\u6295\u7A3F\u306B\u5931\u6557\u3057\u307E\u3057\u305F: ${response.status}`);
      }
      new import_obsidian.Notice("Bluesky\u306B\u6295\u7A3F\u3057\u307E\u3057\u305F\uFF01");
      return true;
    } catch (error) {
      new import_obsidian.Notice(`\u6295\u7A3F\u30A8\u30E9\u30FC: ${error.message}`);
      return false;
    }
  }
};
var PostModal = class extends import_obsidian.Modal {
  constructor(app, plugin, initialText) {
    super(app);
    this.linkPreviewData = null;
    this.selectedImages = [];
    this.debounceTimer = null;
    this.plugin = plugin;
    this.initialText = initialText;
  }
  onOpen() {
    var _a;
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("bluesky-modal-container");
    const headerEl = contentEl.createDiv({ cls: "bluesky-modal-header" });
    new import_obsidian.ButtonComponent(headerEl).setButtonText("\u30AD\u30E3\u30F3\u30BB\u30EB").onClick(() => this.close());
    this.postButton = new import_obsidian.ButtonComponent(headerEl).setButtonText("\u6295\u7A3F").setCta().onClick(() => this.handlePost());
    const mainEl = contentEl.createDiv({ cls: "bluesky-modal-main" });
    if (this.plugin.userAvatar) {
      mainEl.createEl("img", { cls: "bluesky-avatar", attr: { src: this.plugin.userAvatar } });
    }
    this.textArea = mainEl.createEl("textarea", { cls: "bluesky-textarea", attr: { placeholder: "\u6700\u8FD1\u3069\u3046\uFF1F" } });
    let displayText = this.initialText;
    if ((_a = this.plugin.settings.defaultHashtags) == null ? void 0 : _a.trim()) {
      displayText += (displayText ? "\n\n" : "") + this.plugin.settings.defaultHashtags.trim();
    }
    this.textArea.value = displayText;
    this.linkPreviewContainer = contentEl.createDiv({ cls: "bluesky-preview-container" });
    this.imagePreviewContainer = contentEl.createDiv({ cls: "bluesky-image-preview-container" });
    const footerEl = contentEl.createDiv({ cls: "bluesky-modal-footer" });
    const actionsEl = footerEl.createDiv({ cls: "bluesky-actions" });
    this.fileInput = contentEl.createEl("input", { type: "file", attr: { multiple: true, accept: "image/*", style: "display: none;" } });
    this.fileInput.onchange = (e) => this.handleFileSelect(e);
    new import_obsidian.ButtonComponent(actionsEl).setIcon("image-file").setTooltip("\u753B\u50CF\u3092\u8FFD\u52A0 (\u6700\u59274\u679A)").onClick(() => this.fileInput.click());
    this.charCountEl = footerEl.createDiv({ cls: "bluesky-char-count" });
    this.textArea.addEventListener("input", () => {
      this.updateCharCount();
      this.debounceUpdatePreviews();
    });
    this.updateCharCount();
    this.updateLinkPreview();
    setTimeout(() => {
      this.textArea.focus();
      this.textArea.setSelectionRange(this.initialText.length, this.initialText.length);
    }, 100);
    this.addStyles();
  }
  handleFileSelect(event) {
    const files = event.target.files;
    if (!files)
      return;
    if (this.selectedImages.length + files.length > 4) {
      new import_obsidian.Notice("\u753B\u50CF\u306F\u6700\u59274\u679A\u307E\u3067\u3067\u3059\u3002");
      return;
    }
    if (files.length > 0) {
      this.linkPreviewData = null;
      this.linkPreviewContainer.empty();
    }
    Array.from(files).forEach((file) => this.selectedImages.push(file));
    this.updateImagePreviews();
  }
  updateImagePreviews() {
    this.imagePreviewContainer.empty();
    this.selectedImages.forEach((file, index) => {
      const previewEl = this.imagePreviewContainer.createDiv({ cls: "bluesky-image-preview" });
      const img = previewEl.createEl("img");
      img.src = URL.createObjectURL(file);
      const removeBtn = previewEl.createDiv({ cls: "bluesky-remove-image-btn" });
      (0, import_obsidian.setIcon)(removeBtn, "x");
      removeBtn.onclick = () => {
        this.selectedImages.splice(index, 1);
        this.updateImagePreviews();
      };
    });
  }
  updateCharCount() {
    const byteLength = new TextEncoder().encode(this.textArea.value).length;
    this.charCountEl.textContent = `${byteLength}/300`;
    const isOverLimit = byteLength > 300;
    this.charCountEl.toggleClass("bluesky-over-limit", isOverLimit);
    this.postButton.setDisabled(isOverLimit);
  }
  debounceUpdatePreviews() {
    if (this.debounceTimer)
      clearTimeout(this.debounceTimer);
    this.debounceTimer = setTimeout(() => this.updateLinkPreview(), 500);
  }
  async updateLinkPreview() {
    var _a;
    if (this.selectedImages.length > 0)
      return;
    const match = this.textArea.value.match(/https?:\/\/[^\s]+/);
    const url = match ? match[0] : null;
    if (url && url === ((_a = this.linkPreviewData) == null ? void 0 : _a.url))
      return;
    this.linkPreviewContainer.empty();
    this.linkPreviewData = null;
    if (url) {
      this.linkPreviewData = await this.fetchLinkPreview(url);
      if (this.linkPreviewData)
        this.displayLinkPreview(this.linkPreviewData);
    }
  }
  async fetchLinkPreview(url) {
    var _a;
    try {
      const response = await (0, import_obsidian.requestUrl)({ url });
      const doc = new DOMParser().parseFromString(response.text, "text/html");
      const getMeta = (prop) => {
        var _a2;
        return (_a2 = doc.querySelector(`meta[property="${prop}"]`)) == null ? void 0 : _a2.getAttribute("content");
      };
      return { url, title: getMeta("og:title") || ((_a = doc.querySelector("title")) == null ? void 0 : _a.textContent) || url, description: getMeta("og:description") || getMeta("description") || "", image: getMeta("og:image"), domain: new URL(url).hostname };
    } catch (error) {
      console.error("Failed to fetch link preview:", error);
      return { url, title: url, domain: new URL(url).hostname };
    }
  }
  displayLinkPreview(preview) {
    this.linkPreviewContainer.empty();
    const cardEl = this.linkPreviewContainer.createDiv({ cls: "bluesky-link-card" });
    if (preview.image)
      cardEl.createEl("img", { cls: "bluesky-link-image" }).src = preview.image;
    const contentEl = cardEl.createDiv({ cls: "bluesky-link-content" });
    if (preview.title)
      contentEl.createDiv({ cls: "bluesky-link-title", text: preview.title });
    if (preview.description)
      contentEl.createDiv({ cls: "bluesky-link-description", text: preview.description });
    if (preview.domain)
      contentEl.createDiv({ cls: "bluesky-link-domain", text: preview.domain });
    cardEl.addEventListener("click", () => window.open(preview.url, "_blank"));
  }
  async handlePost() {
    var _a;
    const text = this.textArea.value.trim();
    if (!text && this.selectedImages.length === 0) {
      new import_obsidian.Notice("\u6295\u7A3F\u5185\u5BB9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044");
      return;
    }
    this.postButton.setButtonText("Posting...").setDisabled(true);
    let embed;
    if (this.selectedImages.length > 0) {
      try {
        const uploadedImages = await Promise.all(this.selectedImages.map(async (file) => {
          const imageBitmap = await createImageBitmap(file);
          const { width, height } = imageBitmap;
          const canvas = document.createElement("canvas");
          canvas.width = width;
          canvas.height = height;
          const ctx = canvas.getContext("2d");
          if (!ctx)
            throw new Error("Failed to get canvas context");
          ctx.drawImage(imageBitmap, 0, 0);
          const processedBlob = await new Promise((resolve, reject) => {
            canvas.toBlob((blob) => blob ? resolve(blob) : reject(new Error("Canvas to Blob conversion failed")), file.type);
          });
          const buffer = await processedBlob.arrayBuffer();
          const uploaded = await this.plugin.uploadBlob(buffer, processedBlob.type);
          return {
            image: uploaded.blob,
            alt: "",
            // ここに代替テキストを入れることも可能
            aspectRatio: { width, height }
          };
        }));
        embed = { $type: "app.bsky.embed.images", images: uploadedImages };
      } catch (error) {
        new import_obsidian.Notice(`\u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u30A8\u30E9\u30FC: ${error.message}`);
        this.postButton.setButtonText("Post").setDisabled(false);
        return;
      }
    } else if ((_a = this.linkPreviewData) == null ? void 0 : _a.title) {
      let thumb;
      if (this.linkPreviewData.image) {
        try {
          const imgResponse = await (0, import_obsidian.requestUrl)({ url: this.linkPreviewData.image });
          const blob = imgResponse.arrayBuffer;
          const mimeType = imgResponse.headers["content-type"] || "image/jpeg";
          const uploadedImage = await this.plugin.uploadBlob(blob, mimeType);
          thumb = { $type: "blob", ref: uploadedImage.blob.ref, mimeType: uploadedImage.blob.mimeType, size: uploadedImage.blob.size };
        } catch (error) {
          console.error("Image upload failed:", error);
        }
      }
      embed = { $type: "app.bsky.embed.external", external: { uri: this.linkPreviewData.url, title: this.linkPreviewData.title, description: this.linkPreviewData.description || "", thumb } };
    }
    if (await this.plugin.postToBluesky(text, embed))
      this.close();
    else
      this.postButton.setButtonText("Post").setDisabled(false);
  }
  addStyles() {
    const styleId = "bluesky-plugin-styles";
    if (document.getElementById(styleId))
      return;
    const styleEl = document.createElement("style");
    styleEl.id = styleId;
    styleEl.textContent = `
            .bluesky-modal-container { display: flex; flex-direction: column; height: 100%; }
            .bluesky-modal-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 12px; margin-top: 10px; }
            .bluesky-modal-main { display: flex; flex-grow: 1; }
            .bluesky-avatar { width: 50px; height: 50px; border-radius: 50%; margin-right: 12px; }
            .bluesky-textarea { width: 100%; min-height: 150px; flex-grow: 1; padding: 0; border: none; background: transparent; color: var(--text-normal); font-family: var(--font-text); font-size: 18px; line-height: 1.5; resize: none; }
            .bluesky-textarea:focus { outline: none; box-shadow: none; }
			.bluesky-preview-container { margin: 12px 0; }
			.bluesky-link-card { display: flex; border: 1px solid var(--background-modifier-border); border-radius: 8px; overflow: hidden; background: var(--background-secondary); cursor: pointer; }
			.bluesky-link-image { width: 100px; height: 100px; object-fit: cover; flex-shrink: 0; }
			.bluesky-link-content { padding: 12px; display: flex; flex-direction: column; overflow: hidden; }
			.bluesky-link-title { font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
			.bluesky-link-description { font-size: 12px; color: var(--text-muted); margin-top: 4px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
			.bluesky-link-domain { font-size: 12px; color: var(--text-muted); margin-top: auto; }
            .bluesky-image-preview-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 8px; margin: 12px 0; }
            .bluesky-image-preview { position: relative; }
            .bluesky-image-preview img { width: 100%; height: auto; border-radius: 8px; }
            .bluesky-remove-image-btn { position: absolute; top: 4px; right: 4px; background-color: rgba(0,0,0,0.6); color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; cursor: pointer; }
            .bluesky-modal-footer { display: flex; justify-content: space-between; align-items: center; padding-top: 12px; border-top: 1px solid var(--background-modifier-border); }
			.bluesky-char-count { font-size: 12px; color: var(--text-muted); }
			.bluesky-char-count.bluesky-over-limit { color: var(--text-error); font-weight: bold; }
		`;
    document.head.appendChild(styleEl);
  }
  onClose() {
    if (this.debounceTimer)
      clearTimeout(this.debounceTimer);
    this.contentEl.empty();
  }
};
var BlueskySettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Bluesky Plugin Settings" });
    new import_obsidian.Setting(containerEl).setName("Bluesky Handle").setDesc("\u3042\u306A\u305F\u306EBluesky\u30CF\u30F3\u30C9\u30EB\uFF08\u4F8B: username.bsky.social\uFF09").addText((text) => text.setPlaceholder("username.bsky.social").setValue(this.plugin.settings.handle).onChange(async (value) => {
      this.plugin.settings.handle = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("App Password").setDesc("Bluesky\u306EApp Password\uFF08\u8A2D\u5B9A\u304B\u3089\u4F5C\u6210\u3057\u3066\u304F\u3060\u3055\u3044\uFF09").addText((text) => text.setPlaceholder("xxxx-xxxx-xxxx-xxxx").setValue(this.plugin.settings.password).onChange(async (value) => {
      this.plugin.settings.password = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Default Hashtags").setDesc("\u6295\u7A3F\u306B\u81EA\u52D5\u3067\u8FFD\u52A0\u3059\u308B\u30CF\u30C3\u30B7\u30E5\u30BF\u30B0\uFF08\u6539\u884C\u3057\u3066\u8FFD\u52A0\u3055\u308C\u307E\u3059\uFF09").addText((text) => text.setPlaceholder("#obsidian #note").setValue(this.plugin.settings.defaultHashtags).onChange(async (value) => {
      this.plugin.settings.defaultHashtags = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("p", { text: "\u6CE8\u610F: App Password\u3092\u4F7F\u7528\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u30E1\u30A4\u30F3\u30D1\u30B9\u30EF\u30FC\u30C9\u306F\u4F7F\u7528\u3057\u306A\u3044\u3067\u304F\u3060\u3055\u3044\u3002", cls: "setting-item-description" });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLy8gbWFpbi50c1xyXG5pbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIEJ1dHRvbkNvbXBvbmVudCwgcmVxdWVzdFVybCwgc2V0SWNvbiB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8vIC4uLiAoaW50ZXJmYWNlXHUzMDg0XHU1QjlBXHU2NTcwXHU1QjlBXHU3RkE5XHUzMDZGXHU1OTA5XHU2NkY0XHUzMDZBXHUzMDU3KSAuLi5cclxuaW50ZXJmYWNlIEJsdWVza3lQbHVnaW5TZXR0aW5ncyB7IGhhbmRsZTogc3RyaW5nOyBwYXNzd29yZDogc3RyaW5nOyBkZWZhdWx0SGFzaHRhZ3M6IHN0cmluZzsgfVxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBCbHVlc2t5UGx1Z2luU2V0dGluZ3MgPSB7IGhhbmRsZTogJycsIHBhc3N3b3JkOiAnJywgZGVmYXVsdEhhc2h0YWdzOiAnJyB9XHJcbmludGVyZmFjZSBMaW5rUHJldmlld0RhdGEgeyB1cmw6IHN0cmluZzsgdGl0bGU/OiBzdHJpbmc7IGRlc2NyaXB0aW9uPzogc3RyaW5nOyBpbWFnZT86IHN0cmluZzsgZG9tYWluOiBzdHJpbmc7IH1cclxuaW50ZXJmYWNlIEV4dGVybmFsRW1iZWQgeyAkdHlwZTogJ2FwcC5ic2t5LmVtYmVkLmV4dGVybmFsJzsgZXh0ZXJuYWw6IHsgdXJpOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmc7IHRodW1iPzogeyAkdHlwZTogJ2Jsb2InOyByZWY6IHsgJGxpbms6IHN0cmluZyB9OyBtaW1lVHlwZTogc3RyaW5nOyBzaXplOiBudW1iZXI7IH07IH07IH1cclxuaW50ZXJmYWNlIEltYWdlIHsgaW1hZ2U6IHsgJHR5cGU6ICdibG9iJzsgcmVmOiB7ICRsaW5rOiBzdHJpbmcgfTsgbWltZVR5cGU6IHN0cmluZzsgc2l6ZTogbnVtYmVyOyB9OyBhbHQ6IHN0cmluZzsgYXNwZWN0UmF0aW8/OiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH07IH1cclxuaW50ZXJmYWNlIEltYWdlRW1iZWQgeyAkdHlwZTogJ2FwcC5ic2t5LmVtYmVkLmltYWdlcyc7IGltYWdlczogSW1hZ2VbXTsgfVxyXG50eXBlIEVtYmVkID0gRXh0ZXJuYWxFbWJlZCB8IEltYWdlRW1iZWQ7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmx1ZXNreVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IEJsdWVza3lQbHVnaW5TZXR0aW5ncztcclxuXHRhY2Nlc3NKd3Q6IHN0cmluZyA9ICcnO1xyXG5cdHJlZnJlc2hKd3Q6IHN0cmluZyA9ICcnO1xyXG4gICAgdXNlckF2YXRhcjogc3RyaW5nID0gJyc7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblx0XHR0aGlzLmFkZENvbW1hbmQoeyBpZDogJ3Bvc3Qtc2VsZWN0aW9uLXRvLWJsdWVza3knLCBuYW1lOiAnUG9zdCBzZWxlY3Rpb24gdG8gQmx1ZXNreScsIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4geyBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7IGlmIChzZWxlY3Rpb24/LnRyaW0oKSkgbmV3IFBvc3RNb2RhbCh0aGlzLmFwcCwgdGhpcywgc2VsZWN0aW9uKS5vcGVuKCk7IGVsc2UgbmV3IE5vdGljZSgnXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMDkyXHU5MDc4XHU2MjlFXHUzMDU3XHUzMDY2XHUzMDRGXHUzMDYwXHUzMDU1XHUzMDQ0Jyk7IH0gfSk7XHJcblx0XHR0aGlzLmFkZENvbW1hbmQoeyBpZDogJ3Bvc3Qtbm90ZS10by1ibHVlc2t5JywgbmFtZTogJ1Bvc3QgY3VycmVudCBub3RlIHRvIEJsdWVza3knLCBlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHsgY29uc3QgY29udGVudCA9IGVkaXRvci5nZXRWYWx1ZSgpOyBpZiAoY29udGVudD8udHJpbSgpKSBuZXcgUG9zdE1vZGFsKHRoaXMuYXBwLCB0aGlzLCBjb250ZW50KS5vcGVuKCk7IGVsc2UgbmV3IE5vdGljZSgnXHUzMENFXHUzMEZDXHUzMEM4XHUzMDRDXHU3QTdBXHUzMDY3XHUzMDU5Jyk7IH0gfSk7XHJcblx0XHR0aGlzLmFkZENvbW1hbmQoeyBpZDogJ2NyZWF0ZS1uZXctcG9zdCcsIG5hbWU6ICdDcmVhdGUgbmV3IEJsdWVza3kgcG9zdCcsIGNhbGxiYWNrOiAoKSA9PiBuZXcgUG9zdE1vZGFsKHRoaXMuYXBwLCB0aGlzLCAnJykub3BlbigpIH0pO1xyXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKCdzZW5kJywgJ1Bvc3QgdG8gQmx1ZXNreScsICgpID0+IG5ldyBQb3N0TW9kYWwodGhpcy5hcHAsIHRoaXMsICcnKS5vcGVuKCkpO1xyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBCbHVlc2t5U2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7fVxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHsgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7IH1cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7IGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7IH1cclxuXHJcblx0YXN5bmMgbG9naW4oKTogUHJvbWlzZTxib29sZWFuPiB7XHJcblx0XHRpZiAoIXRoaXMuc2V0dGluZ3MuaGFuZGxlIHx8ICF0aGlzLnNldHRpbmdzLnBhc3N3b3JkKSB7IG5ldyBOb3RpY2UoJ0JsdWVza3lcdTMwNkVcdTMwQ0ZcdTMwRjNcdTMwQzlcdTMwRUJcdTMwNjhcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcdTMwOTJcdThBMkRcdTVCOUFcdTMwNTdcdTMwNjZcdTMwNEZcdTMwNjBcdTMwNTVcdTMwNDQnKTsgcmV0dXJuIGZhbHNlOyB9XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCByZXNwID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYnNreS5zb2NpYWwveHJwYy9jb20uYXRwcm90by5zZXJ2ZXIuY3JlYXRlU2Vzc2lvbicsIHsgbWV0aG9kOiAnUE9TVCcsIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LCBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGlkZW50aWZpZXI6IHRoaXMuc2V0dGluZ3MuaGFuZGxlLCBwYXNzd29yZDogdGhpcy5zZXR0aW5ncy5wYXNzd29yZCB9KSwgfSk7XHJcblx0XHRcdGlmICghcmVzcC5vaykgdGhyb3cgbmV3IEVycm9yKGBcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTMwNkJcdTU5MzFcdTY1NTdcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUY6ICR7cmVzcC5zdGF0dXN9YCk7XHJcblx0XHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwLmpzb24oKTtcclxuXHRcdFx0dGhpcy5hY2Nlc3NKd3QgPSBkYXRhLmFjY2Vzc0p3dDsgdGhpcy5yZWZyZXNoSnd0ID0gZGF0YS5yZWZyZXNoSnd0O1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNvbnN0IHByb2ZpbGVSZXNwID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYnNreS5zb2NpYWwveHJwYy9hcHAuYnNreS5hY3Rvci5nZXRQcm9maWxlP2FjdG9yPSR7ZGF0YS5kaWR9YCwgeyBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMuYWNjZXNzSnd0fWAgfSB9KTtcclxuXHRcdFx0XHRpZiAocHJvZmlsZVJlc3Aub2spIHsgY29uc3QgcHJvZmlsZURhdGEgPSBhd2FpdCBwcm9maWxlUmVzcC5qc29uKCk7IHRoaXMudXNlckF2YXRhciA9IHByb2ZpbGVEYXRhLmF2YXRhciB8fCAnJzsgfVxyXG5cdFx0XHR9IGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoXCJcdTMwQTJcdTMwRDBcdTMwQkZcdTMwRkNcdTMwNkVcdTUzRDZcdTVGOTdcdTMwNkJcdTU5MzFcdTY1NTdcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUY6XCIsIGUpOyB9XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHsgbmV3IE5vdGljZShgXHUzMEVEXHUzMEIwXHUzMEE0XHUzMEYzXHUzMEE4XHUzMEU5XHUzMEZDOiAke2Vycm9yLm1lc3NhZ2V9YCk7IHJldHVybiBmYWxzZTsgfVxyXG5cdH1cclxuXHJcblx0ZGV0ZWN0RmFjZXRzKHRleHQ6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IGZhY2V0cyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcclxuICAgICAgICBjb25zdCBsaW5rUmVnZXggPSAvaHR0cHM/OlxcL1xcL1teXFxzXSsvZztcclxuICAgICAgICBsZXQgbWF0Y2g7XHJcbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IGxpbmtSZWdleC5leGVjKHRleHQpKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCB1cmkgPSBtYXRjaFswXTtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZVN0YXJ0ID0gZW5jb2Rlci5lbmNvZGUodGV4dC5zbGljZSgwLCBtYXRjaC5pbmRleCkpLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZUVuZCA9IGJ5dGVTdGFydCArIGVuY29kZXIuZW5jb2RlKHVyaSkubGVuZ3RoO1xyXG4gICAgICAgICAgICBmYWNldHMucHVzaCh7IGluZGV4OiB7IGJ5dGVTdGFydCwgYnl0ZUVuZCB9LCBmZWF0dXJlczogW3sgJHR5cGU6ICdhcHAuYnNreS5yaWNodGV4dC5mYWNldCNsaW5rJywgdXJpOiB1cmkgfV0gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhhc2h0YWdSZWdleCA9IC8jW1xcd1xcdTMwNDAtXFx1MzA5RlxcdTMwQTAtXFx1MzBGRlxcdTRFMDAtXFx1OUZBRl0rL2c7XHJcbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IGhhc2h0YWdSZWdleC5leGVjKHRleHQpKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCB0YWcgPSBtYXRjaFswXTtcclxuICAgICAgICAgICAgaWYgKHRhZy5sZW5ndGggPiA2NikgY29udGludWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVTdGFydCA9IGVuY29kZXIuZW5jb2RlKHRleHQuc2xpY2UoMCwgbWF0Y2guaW5kZXgpKS5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVFbmQgPSBieXRlU3RhcnQgKyBlbmNvZGVyLmVuY29kZSh0YWcpLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgdGFnV2l0aG91dEhhc2ggPSB0YWcuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgIGZhY2V0cy5wdXNoKHsgaW5kZXg6IHsgYnl0ZVN0YXJ0LCBieXRlRW5kIH0sIGZlYXR1cmVzOiBbeyAkdHlwZTogJ2FwcC5ic2t5LnJpY2h0ZXh0LmZhY2V0I3RhZycsIHRhZzogdGFnV2l0aG91dEhhc2ggfV0gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWNldHMubGVuZ3RoID4gMCA/IGZhY2V0cyA6IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcblx0YXN5bmMgdXBsb2FkQmxvYihibG9iOiBBcnJheUJ1ZmZlciwgbWltZVR5cGU6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFjY2Vzc0p3dCkgeyBpZiAoIShhd2FpdCB0aGlzLmxvZ2luKCkpKSB0aHJvdyBuZXcgRXJyb3IoXCJcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTMwNkJcdTU5MzFcdTY1NTdcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIik7IH1cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2Jza3kuc29jaWFsL3hycGMvY29tLmF0cHJvdG8ucmVwby51cGxvYWRCbG9iJywgeyBtZXRob2Q6ICdQT1NUJywgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogbWltZVR5cGUsICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMuYWNjZXNzSnd0fWAgfSwgYm9keTogYmxvYiB9KTtcclxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7IGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSAmJiAoYXdhaXQgdGhpcy5sb2dpbigpKSkgcmV0dXJuIHRoaXMudXBsb2FkQmxvYihibG9iLCBtaW1lVHlwZSk7IHRocm93IG5ldyBFcnJvcihgXHU3NTNCXHU1MENGXHUzMEEyXHUzMEMzXHUzMEQ3XHUzMEVEXHUzMEZDXHUzMEM5XHUzMDZCXHU1OTMxXHU2NTU3XHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGOiAke3Jlc3BvbnNlLnN0YXR1c31gKTsgfVxyXG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB9XHJcblxyXG5cdGFzeW5jIHBvc3RUb0JsdWVza3kodGV4dDogc3RyaW5nLCBlbWJlZD86IEVtYmVkKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgaWYgKCF0ZXh0LnRyaW0oKSAmJiAoIWVtYmVkIHx8IGVtYmVkLiR0eXBlICE9PSAnYXBwLmJza3kuZW1iZWQuaW1hZ2VzJykpIHsgbmV3IE5vdGljZSgnXHU2Mjk1XHU3QTNGXHU1MTg1XHU1QkI5XHUzMDRDXHU3QTdBXHUzMDY3XHUzMDU5Jyk7IHJldHVybiBmYWxzZTsgfVxyXG4gICAgICAgIGlmIChuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodGV4dCkubGVuZ3RoID4gMzAwKSB7IG5ldyBOb3RpY2UoYFx1NjI5NVx1N0EzRlx1MzA0QzMwMFx1MzBEMFx1MzBBNFx1MzBDOFx1MzA5Mlx1OEQ4NVx1MzA0OFx1MzA2Nlx1MzA0NFx1MzA3RVx1MzA1OVx1MzAwMlx1MzBDNlx1MzBBRFx1MzBCOVx1MzBDOFx1MzA5Mlx1NzdFRFx1MzA0Rlx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFx1MzAwMmApOyByZXR1cm4gZmFsc2U7IH1cclxuICAgICAgICBpZiAoIXRoaXMuYWNjZXNzSnd0KSB7IGlmICghKGF3YWl0IHRoaXMubG9naW4oKSkpIHJldHVybiBmYWxzZTsgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZDogYW55ID0geyB0ZXh0OiB0ZXh0LCBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgJHR5cGU6ICdhcHAuYnNreS5mZWVkLnBvc3QnIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGZhY2V0cyA9IHRoaXMuZGV0ZWN0RmFjZXRzKHRleHQpO1xyXG4gICAgICAgICAgICBpZiAoZmFjZXRzKSByZWNvcmQuZmFjZXRzID0gZmFjZXRzO1xyXG4gICAgICAgICAgICBpZiAoZW1iZWQpIHJlY29yZC5lbWJlZCA9IGVtYmVkO1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2Jza3kuc29jaWFsL3hycGMvY29tLmF0cHJvdG8ucmVwby5jcmVhdGVSZWNvcmQnLCB7IG1ldGhvZDogJ1BPU1QnLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMuYWNjZXNzSnd0fWAgfSwgYm9keTogSlNPTi5zdHJpbmdpZnkoeyByZXBvOiB0aGlzLnNldHRpbmdzLmhhbmRsZSwgY29sbGVjdGlvbjogJ2FwcC5ic2t5LmZlZWQucG9zdCcsIHJlY29yZDogcmVjb3JkIH0pIH0pO1xyXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7IGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSAmJiAoYXdhaXQgdGhpcy5sb2dpbigpKSkgcmV0dXJuIHRoaXMucG9zdFRvQmx1ZXNreSh0ZXh0LCBlbWJlZCk7IGNvbnN0IGVycm9yQm9keSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsgY29uc29sZS5lcnJvcignQmx1ZXNreSBwb3N0IGZhaWxlZDonLCBlcnJvckJvZHkpOyB0aHJvdyBuZXcgRXJyb3IoYFx1NjI5NVx1N0EzRlx1MzA2Qlx1NTkzMVx1NjU1N1x1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RjogJHtyZXNwb25zZS5zdGF0dXN9YCk7IH1cclxuICAgICAgICAgICAgbmV3IE5vdGljZSgnQmx1ZXNreVx1MzA2Qlx1NjI5NVx1N0EzRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1Rlx1RkYwMScpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikgeyBuZXcgTm90aWNlKGBcdTYyOTVcdTdBM0ZcdTMwQThcdTMwRTlcdTMwRkM6ICR7ZXJyb3IubWVzc2FnZX1gKTsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFBvc3RNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuXHRwbHVnaW46IEJsdWVza3lQbHVnaW47IGluaXRpYWxUZXh0OiBzdHJpbmc7IHRleHRBcmVhOiBIVE1MVGV4dEFyZWFFbGVtZW50OyBjaGFyQ291bnRFbDogSFRNTEVsZW1lbnQ7IHBvc3RCdXR0b246IEJ1dHRvbkNvbXBvbmVudDsgbGlua1ByZXZpZXdDb250YWluZXI6IEhUTUxFbGVtZW50OyBpbWFnZVByZXZpZXdDb250YWluZXI6IEhUTUxFbGVtZW50OyBsaW5rUHJldmlld0RhdGE6IExpbmtQcmV2aWV3RGF0YSB8IG51bGwgPSBudWxsOyBzZWxlY3RlZEltYWdlczogRmlsZVtdID0gW107IGZpbGVJbnB1dDogSFRNTElucHV0RWxlbWVudDsgcHJpdmF0ZSBkZWJvdW5jZVRpbWVyOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEJsdWVza3lQbHVnaW4sIGluaXRpYWxUZXh0OiBzdHJpbmcpIHsgc3VwZXIoYXBwKTsgdGhpcy5wbHVnaW4gPSBwbHVnaW47IHRoaXMuaW5pdGlhbFRleHQgPSBpbml0aWFsVGV4dDsgfVxyXG5cclxuXHRvbk9wZW4oKSB7XHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnRlbnRFbC5hZGRDbGFzcygnYmx1ZXNreS1tb2RhbC1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZGVyRWwgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnYmx1ZXNreS1tb2RhbC1oZWFkZXInIH0pO1xyXG4gICAgICAgIG5ldyBCdXR0b25Db21wb25lbnQoaGVhZGVyRWwpLnNldEJ1dHRvblRleHQoJ1x1MzBBRFx1MzBFM1x1MzBGM1x1MzBCQlx1MzBFQicpLm9uQ2xpY2soKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuICAgICAgICB0aGlzLnBvc3RCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGhlYWRlckVsKS5zZXRCdXR0b25UZXh0KCdcdTYyOTVcdTdBM0YnKS5zZXRDdGEoKS5vbkNsaWNrKCgpID0+IHRoaXMuaGFuZGxlUG9zdCgpKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWFpbkVsID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ2JsdWVza3ktbW9kYWwtbWFpbicgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnVzZXJBdmF0YXIpIHsgbWFpbkVsLmNyZWF0ZUVsKCdpbWcnLCB7IGNsczogJ2JsdWVza3ktYXZhdGFyJywgYXR0cjogeyBzcmM6IHRoaXMucGx1Z2luLnVzZXJBdmF0YXIgfX0pOyB9XHJcbiAgICAgICAgdGhpcy50ZXh0QXJlYSA9IG1haW5FbC5jcmVhdGVFbCgndGV4dGFyZWEnLCB7IGNsczogJ2JsdWVza3ktdGV4dGFyZWEnLCBhdHRyOiB7IHBsYWNlaG9sZGVyOiBcIlx1NjcwMFx1OEZEMVx1MzA2OVx1MzA0Nlx1RkYxRlwiIH19KTtcclxuICAgICAgICBcclxuXHRcdGxldCBkaXNwbGF5VGV4dCA9IHRoaXMuaW5pdGlhbFRleHQ7XHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdEhhc2h0YWdzPy50cmltKCkpIHsgZGlzcGxheVRleHQgKz0gKGRpc3BsYXlUZXh0ID8gJ1xcblxcbicgOiAnJykgKyB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0SGFzaHRhZ3MudHJpbSgpOyB9XHJcblx0XHR0aGlzLnRleHRBcmVhLnZhbHVlID0gZGlzcGxheVRleHQ7XHJcblxyXG5cdFx0dGhpcy5saW5rUHJldmlld0NvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdibHVlc2t5LXByZXZpZXctY29udGFpbmVyJyB9KTtcclxuICAgICAgICB0aGlzLmltYWdlUHJldmlld0NvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdibHVlc2t5LWltYWdlLXByZXZpZXctY29udGFpbmVyJyB9KTtcclxuXHRcdFxyXG4gICAgICAgIGNvbnN0IGZvb3RlckVsID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ2JsdWVza3ktbW9kYWwtZm9vdGVyJyB9KTtcclxuICAgICAgICBjb25zdCBhY3Rpb25zRWwgPSBmb290ZXJFbC5jcmVhdGVEaXYoeyBjbHM6ICdibHVlc2t5LWFjdGlvbnMnIH0pO1xyXG4gICAgICAgIHRoaXMuZmlsZUlucHV0ID0gY29udGVudEVsLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2ZpbGUnLCBhdHRyOiB7IG11bHRpcGxlOiB0cnVlLCBhY2NlcHQ6ICdpbWFnZS8qJywgc3R5bGU6ICdkaXNwbGF5OiBub25lOycgfX0pO1xyXG4gICAgICAgIHRoaXMuZmlsZUlucHV0Lm9uY2hhbmdlID0gKGUpID0+IHRoaXMuaGFuZGxlRmlsZVNlbGVjdChlKTtcclxuICAgICAgICBuZXcgQnV0dG9uQ29tcG9uZW50KGFjdGlvbnNFbCkuc2V0SWNvbignaW1hZ2UtZmlsZScpLnNldFRvb2x0aXAoJ1x1NzUzQlx1NTBDRlx1MzA5Mlx1OEZGRFx1NTJBMCAoXHU2NzAwXHU1OTI3NFx1Njc5QSknKS5vbkNsaWNrKCgpID0+IHRoaXMuZmlsZUlucHV0LmNsaWNrKCkpO1xyXG4gICAgICAgIHRoaXMuY2hhckNvdW50RWwgPSBmb290ZXJFbC5jcmVhdGVEaXYoeyBjbHM6ICdibHVlc2t5LWNoYXItY291bnQnIH0pO1xyXG5cdFx0XHJcblx0XHR0aGlzLnRleHRBcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4geyB0aGlzLnVwZGF0ZUNoYXJDb3VudCgpOyB0aGlzLmRlYm91bmNlVXBkYXRlUHJldmlld3MoKTsgfSk7XHJcblx0XHR0aGlzLnVwZGF0ZUNoYXJDb3VudCgpOyB0aGlzLnVwZGF0ZUxpbmtQcmV2aWV3KCk7XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy50ZXh0QXJlYS5mb2N1cygpOyB0aGlzLnRleHRBcmVhLnNldFNlbGVjdGlvblJhbmdlKHRoaXMuaW5pdGlhbFRleHQubGVuZ3RoLCB0aGlzLmluaXRpYWxUZXh0Lmxlbmd0aCk7IH0sIDEwMCk7XHJcblx0XHR0aGlzLmFkZFN0eWxlcygpO1xyXG5cdH1cclxuXHJcblx0aGFuZGxlRmlsZVNlbGVjdChldmVudDogRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBmaWxlcyA9IChldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuZmlsZXM7IGlmICghZmlsZXMpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEltYWdlcy5sZW5ndGggKyBmaWxlcy5sZW5ndGggPiA0KSB7IG5ldyBOb3RpY2UoJ1x1NzUzQlx1NTBDRlx1MzA2Rlx1NjcwMFx1NTkyNzRcdTY3OUFcdTMwN0VcdTMwNjdcdTMwNjdcdTMwNTlcdTMwMDInKTsgcmV0dXJuOyB9XHJcbiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDApIHsgdGhpcy5saW5rUHJldmlld0RhdGEgPSBudWxsOyB0aGlzLmxpbmtQcmV2aWV3Q29udGFpbmVyLmVtcHR5KCk7IH1cclxuICAgICAgICBBcnJheS5mcm9tKGZpbGVzKS5mb3JFYWNoKGZpbGUgPT4gdGhpcy5zZWxlY3RlZEltYWdlcy5wdXNoKGZpbGUpKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUltYWdlUHJldmlld3MoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJbWFnZVByZXZpZXdzKCkge1xyXG4gICAgICAgIHRoaXMuaW1hZ2VQcmV2aWV3Q29udGFpbmVyLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEltYWdlcy5mb3JFYWNoKChmaWxlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwcmV2aWV3RWwgPSB0aGlzLmltYWdlUHJldmlld0NvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdibHVlc2t5LWltYWdlLXByZXZpZXcnIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBpbWcgPSBwcmV2aWV3RWwuY3JlYXRlRWwoJ2ltZycpOyBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICAgICAgY29uc3QgcmVtb3ZlQnRuID0gcHJldmlld0VsLmNyZWF0ZURpdih7IGNsczogJ2JsdWVza3ktcmVtb3ZlLWltYWdlLWJ0bicgfSk7IHNldEljb24ocmVtb3ZlQnRuLCAneCcpO1xyXG4gICAgICAgICAgICByZW1vdmVCdG4ub25jbGljayA9ICgpID0+IHsgdGhpcy5zZWxlY3RlZEltYWdlcy5zcGxpY2UoaW5kZXgsIDEpOyB0aGlzLnVwZGF0ZUltYWdlUHJldmlld3MoKTsgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblx0dXBkYXRlQ2hhckNvdW50KCkge1xyXG4gICAgICAgIGNvbnN0IGJ5dGVMZW5ndGggPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodGhpcy50ZXh0QXJlYS52YWx1ZSkubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuY2hhckNvdW50RWwudGV4dENvbnRlbnQgPSBgJHtieXRlTGVuZ3RofS8zMDBgO1xyXG4gICAgICAgIGNvbnN0IGlzT3ZlckxpbWl0ID0gYnl0ZUxlbmd0aCA+IDMwMDtcclxuICAgICAgICB0aGlzLmNoYXJDb3VudEVsLnRvZ2dsZUNsYXNzKCdibHVlc2t5LW92ZXItbGltaXQnLCBpc092ZXJMaW1pdCk7XHJcbiAgICAgICAgdGhpcy5wb3N0QnV0dG9uLnNldERpc2FibGVkKGlzT3ZlckxpbWl0KTtcclxuICAgIH1cclxuXHJcblx0ZGVib3VuY2VVcGRhdGVQcmV2aWV3cygpIHsgaWYgKHRoaXMuZGVib3VuY2VUaW1lcikgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VUaW1lcik7IHRoaXMuZGVib3VuY2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy51cGRhdGVMaW5rUHJldmlldygpLCA1MDApOyB9XHJcblxyXG5cdGFzeW5jIHVwZGF0ZUxpbmtQcmV2aWV3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW1hZ2VzLmxlbmd0aCA+IDApIHJldHVybjtcclxuICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMudGV4dEFyZWEudmFsdWUubWF0Y2goL2h0dHBzPzpcXC9cXC9bXlxcc10rLyk7IGNvbnN0IHVybCA9IG1hdGNoID8gbWF0Y2hbMF0gOiBudWxsO1xyXG4gICAgICAgIGlmICh1cmwgJiYgdXJsID09PSB0aGlzLmxpbmtQcmV2aWV3RGF0YT8udXJsKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5saW5rUHJldmlld0NvbnRhaW5lci5lbXB0eSgpOyB0aGlzLmxpbmtQcmV2aWV3RGF0YSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHVybCkgeyB0aGlzLmxpbmtQcmV2aWV3RGF0YSA9IGF3YWl0IHRoaXMuZmV0Y2hMaW5rUHJldmlldyh1cmwpOyBpZiAodGhpcy5saW5rUHJldmlld0RhdGEpIHRoaXMuZGlzcGxheUxpbmtQcmV2aWV3KHRoaXMubGlua1ByZXZpZXdEYXRhKTsgfVxyXG4gICAgfVxyXG5cclxuXHRhc3luYyBmZXRjaExpbmtQcmV2aWV3KHVybDogc3RyaW5nKTogUHJvbWlzZTxMaW5rUHJldmlld0RhdGEgfCBudWxsPiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHsgdXJsIH0pOyBjb25zdCBkb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlLnRleHQsICd0ZXh0L2h0bWwnKTsgY29uc3QgZ2V0TWV0YSA9IChwcm9wOiBzdHJpbmcpID0+IGRvYy5xdWVyeVNlbGVjdG9yKGBtZXRhW3Byb3BlcnR5PVwiJHtwcm9wfVwiXWApPy5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdXJsLCB0aXRsZTogZ2V0TWV0YSgnb2c6dGl0bGUnKSB8fCBkb2MucXVlcnlTZWxlY3RvcigndGl0bGUnKT8udGV4dENvbnRlbnQgfHwgdXJsLCBkZXNjcmlwdGlvbjogZ2V0TWV0YSgnb2c6ZGVzY3JpcHRpb24nKSB8fCBnZXRNZXRhKCdkZXNjcmlwdGlvbicpIHx8ICcnLCBpbWFnZTogZ2V0TWV0YSgnb2c6aW1hZ2UnKSwgZG9tYWluOiBuZXcgVVJMKHVybCkuaG9zdG5hbWUgfTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikgeyBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggbGluayBwcmV2aWV3OicsIGVycm9yKTsgcmV0dXJuIHsgdXJsLCB0aXRsZTogdXJsLCBkb21haW46IG5ldyBVUkwodXJsKS5ob3N0bmFtZSB9OyB9XHJcbiAgICB9XHJcblxyXG5cdGRpc3BsYXlMaW5rUHJldmlldyhwcmV2aWV3OiBMaW5rUHJldmlld0RhdGEpIHtcclxuICAgICAgICB0aGlzLmxpbmtQcmV2aWV3Q29udGFpbmVyLmVtcHR5KCk7IGNvbnN0IGNhcmRFbCA9IHRoaXMubGlua1ByZXZpZXdDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnYmx1ZXNreS1saW5rLWNhcmQnIH0pO1xyXG4gICAgICAgIGlmIChwcmV2aWV3LmltYWdlKSBjYXJkRWwuY3JlYXRlRWwoJ2ltZycsIHsgY2xzOiAnYmx1ZXNreS1saW5rLWltYWdlJyB9KS5zcmMgPSBwcmV2aWV3LmltYWdlO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRFbCA9IGNhcmRFbC5jcmVhdGVEaXYoeyBjbHM6ICdibHVlc2t5LWxpbmstY29udGVudCcgfSk7XHJcbiAgICAgICAgaWYgKHByZXZpZXcudGl0bGUpIGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdibHVlc2t5LWxpbmstdGl0bGUnLCB0ZXh0OiBwcmV2aWV3LnRpdGxlIH0pO1xyXG4gICAgICAgIGlmIChwcmV2aWV3LmRlc2NyaXB0aW9uKSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnYmx1ZXNreS1saW5rLWRlc2NyaXB0aW9uJywgdGV4dDogcHJldmlldy5kZXNjcmlwdGlvbiB9KTtcclxuICAgICAgICBpZiAocHJldmlldy5kb21haW4pIGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdibHVlc2t5LWxpbmstZG9tYWluJywgdGV4dDogcHJldmlldy5kb21haW4gfSk7XHJcbiAgICAgICAgY2FyZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gd2luZG93Lm9wZW4ocHJldmlldy51cmwsICdfYmxhbmsnKSk7XHJcbiAgICB9XHJcblxyXG5cdGFzeW5jIGhhbmRsZVBvc3QoKSB7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMudGV4dEFyZWEudmFsdWUudHJpbSgpOyBpZiAoIXRleHQgJiYgdGhpcy5zZWxlY3RlZEltYWdlcy5sZW5ndGggPT09IDApIHsgbmV3IE5vdGljZSgnXHU2Mjk1XHU3QTNGXHU1MTg1XHU1QkI5XHUzMDkyXHU1MTY1XHU1MjlCXHUzMDU3XHUzMDY2XHUzMDRGXHUzMDYwXHUzMDU1XHUzMDQ0Jyk7IHJldHVybjsgfVxyXG4gICAgICAgIHRoaXMucG9zdEJ1dHRvbi5zZXRCdXR0b25UZXh0KCdQb3N0aW5nLi4uJykuc2V0RGlzYWJsZWQodHJ1ZSk7IGxldCBlbWJlZDogRW1iZWQgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbWFnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBsb2FkZWRJbWFnZXM6IEltYWdlW10gPSBhd2FpdCBQcm9taXNlLmFsbCggdGhpcy5zZWxlY3RlZEltYWdlcy5tYXAoYXN5bmMgKGZpbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBcdTc1M0JcdTUwQ0ZcdTMwOTJcdThBQURcdTMwN0ZcdThGQkNcdTMwN0ZcdTMwMDFcdTdFMjZcdTZBMkFcdTMwQjVcdTMwQTRcdTMwQkFcdTMwOTJcdTUzRDZcdTVGOTdcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUJpdG1hcCA9IGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gaW1hZ2VCaXRtYXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbnZhcyBBUElcdTMwOTJcdTRGN0ZcdTMwNDRcdTc1M0JcdTUwQ0ZcdTMwOTJcdTUxOERcdTYzQ0ZcdTc1M0JcdTMwNTdcdTMwNjZcdTMwRTFcdTMwQkZcdTMwQzdcdTMwRkNcdTMwQkZcdTMwOTJcdTUyNEFcdTk2NjRcdUZGMDhcdTYzQThcdTU5NjhcdUZGMDlcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY3R4KSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZXQgY2FudmFzIGNvbnRleHQnKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlQml0bWFwLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRCbG9iID0gYXdhaXQgbmV3IFByb21pc2U8QmxvYj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMudG9CbG9iKGJsb2IgPT4gYmxvYiA/IHJlc29sdmUoYmxvYikgOiByZWplY3QobmV3IEVycm9yKCdDYW52YXMgdG8gQmxvYiBjb252ZXJzaW9uIGZhaWxlZCcpKSwgZmlsZS50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQmx1ZXNreVx1MzA2Qlx1MzBBMlx1MzBDM1x1MzBEN1x1MzBFRFx1MzBGQ1x1MzBDOVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHByb2Nlc3NlZEJsb2IuYXJyYXlCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGxvYWRlZCA9IGF3YWl0IHRoaXMucGx1Z2luLnVwbG9hZEJsb2IoYnVmZmVyLCBwcm9jZXNzZWRCbG9iLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzcGVjdFJhdGlvXHUzMDkyXHU1NDJCXHUzMDgxXHUzMDVGXHUzMEM3XHUzMEZDXHUzMEJGXHUzMDkyXHU4RkQ0XHUzMDU5XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IHVwbG9hZGVkLmJsb2IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdDogJycsIC8vIFx1MzA1M1x1MzA1M1x1MzA2Qlx1NEVFM1x1NjZGRlx1MzBDNlx1MzBBRFx1MzBCOVx1MzBDOFx1MzA5Mlx1NTE2NVx1MzA4Q1x1MzA4Qlx1MzA1M1x1MzA2OFx1MzA4Mlx1NTNFRlx1ODBGRFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogeyB3aWR0aCwgaGVpZ2h0IH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgZW1iZWQgPSB7ICR0eXBlOiAnYXBwLmJza3kuZW1iZWQuaW1hZ2VzJywgaW1hZ2VzOiB1cGxvYWRlZEltYWdlcyB9O1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgeyBuZXcgTm90aWNlKGBcdTc1M0JcdTUwQ0ZcdTMwQTJcdTMwQzNcdTMwRDdcdTMwRURcdTMwRkNcdTMwQzlcdTMwQThcdTMwRTlcdTMwRkM6ICR7ZXJyb3IubWVzc2FnZX1gKTsgIFxyXG4gICAgICAgICAgICB0aGlzLnBvc3RCdXR0b24uc2V0QnV0dG9uVGV4dCgnUG9zdCcpLnNldERpc2FibGVkKGZhbHNlKTsgcmV0dXJuOyB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxpbmtQcmV2aWV3RGF0YT8udGl0bGUpIHtcclxuICAgICAgICAgICAgbGV0IHRodW1iOyBpZiAodGhpcy5saW5rUHJldmlld0RhdGEuaW1hZ2UpIHsgdHJ5IHsgY29uc3QgaW1nUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHsgdXJsOiB0aGlzLmxpbmtQcmV2aWV3RGF0YS5pbWFnZSB9KTsgY29uc3QgYmxvYiA9IGltZ1Jlc3BvbnNlLmFycmF5QnVmZmVyOyBjb25zdCBtaW1lVHlwZSA9IGltZ1Jlc3BvbnNlLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddIHx8ICdpbWFnZS9qcGVnJzsgY29uc3QgdXBsb2FkZWRJbWFnZSA9IGF3YWl0IHRoaXMucGx1Z2luLnVwbG9hZEJsb2IoYmxvYiwgbWltZVR5cGUpOyB0aHVtYiA9IHsgJHR5cGU6ICdibG9iJywgcmVmOiB1cGxvYWRlZEltYWdlLmJsb2IucmVmLCBtaW1lVHlwZTogdXBsb2FkZWRJbWFnZS5ibG9iLm1pbWVUeXBlLCBzaXplOiB1cGxvYWRlZEltYWdlLmJsb2Iuc2l6ZSB9OyB9IGNhdGNoIChlcnJvcikgeyBjb25zb2xlLmVycm9yKCdJbWFnZSB1cGxvYWQgZmFpbGVkOicsIGVycm9yKTsgfSB9XHJcbiAgICAgICAgICAgIGVtYmVkID0geyAkdHlwZTogJ2FwcC5ic2t5LmVtYmVkLmV4dGVybmFsJywgZXh0ZXJuYWw6IHsgdXJpOiB0aGlzLmxpbmtQcmV2aWV3RGF0YS51cmwsIHRpdGxlOiB0aGlzLmxpbmtQcmV2aWV3RGF0YS50aXRsZSwgZGVzY3JpcHRpb246IHRoaXMubGlua1ByZXZpZXdEYXRhLmRlc2NyaXB0aW9uIHx8ICcnLCB0aHVtYjogdGh1bWIgfSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXdhaXQgdGhpcy5wbHVnaW4ucG9zdFRvQmx1ZXNreSh0ZXh0LCBlbWJlZCkpIHRoaXMuY2xvc2UoKTsgZWxzZSB0aGlzLnBvc3RCdXR0b24uc2V0QnV0dG9uVGV4dCgnUG9zdCcpLnNldERpc2FibGVkKGZhbHNlKTtcclxuICAgIH1cclxuXHJcblx0YWRkU3R5bGVzKCkge1xyXG5cdFx0Y29uc3Qgc3R5bGVJZCA9ICdibHVlc2t5LXBsdWdpbi1zdHlsZXMnO1xyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0eWxlSWQpKSByZXR1cm47XHJcblx0XHRjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuXHRcdHN0eWxlRWwuaWQgPSBzdHlsZUlkO1xyXG5cdFx0c3R5bGVFbC50ZXh0Q29udGVudCA9IGBcclxuICAgICAgICAgICAgLmJsdWVza3ktbW9kYWwtY29udGFpbmVyIHsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgaGVpZ2h0OiAxMDAlOyB9XHJcbiAgICAgICAgICAgIC5ibHVlc2t5LW1vZGFsLWhlYWRlciB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgcGFkZGluZy1ib3R0b206IDEycHg7IG1hcmdpbi10b3A6IDEwcHg7IH1cclxuICAgICAgICAgICAgLmJsdWVza3ktbW9kYWwtbWFpbiB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZ3JvdzogMTsgfVxyXG4gICAgICAgICAgICAuYmx1ZXNreS1hdmF0YXIgeyB3aWR0aDogNTBweDsgaGVpZ2h0OiA1MHB4OyBib3JkZXItcmFkaXVzOiA1MCU7IG1hcmdpbi1yaWdodDogMTJweDsgfVxyXG4gICAgICAgICAgICAuYmx1ZXNreS10ZXh0YXJlYSB7IHdpZHRoOiAxMDAlOyBtaW4taGVpZ2h0OiAxNTBweDsgZmxleC1ncm93OiAxOyBwYWRkaW5nOiAwOyBib3JkZXI6IG5vbmU7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpOyBmb250LWZhbWlseTogdmFyKC0tZm9udC10ZXh0KTsgZm9udC1zaXplOiAxOHB4OyBsaW5lLWhlaWdodDogMS41OyByZXNpemU6IG5vbmU7IH1cclxuICAgICAgICAgICAgLmJsdWVza3ktdGV4dGFyZWE6Zm9jdXMgeyBvdXRsaW5lOiBub25lOyBib3gtc2hhZG93OiBub25lOyB9XHJcblx0XHRcdC5ibHVlc2t5LXByZXZpZXctY29udGFpbmVyIHsgbWFyZ2luOiAxMnB4IDA7IH1cclxuXHRcdFx0LmJsdWVza3ktbGluay1jYXJkIHsgZGlzcGxheTogZmxleDsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpOyBib3JkZXItcmFkaXVzOiA4cHg7IG92ZXJmbG93OiBoaWRkZW47IGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTsgY3Vyc29yOiBwb2ludGVyOyB9XHJcblx0XHRcdC5ibHVlc2t5LWxpbmstaW1hZ2UgeyB3aWR0aDogMTAwcHg7IGhlaWdodDogMTAwcHg7IG9iamVjdC1maXQ6IGNvdmVyOyBmbGV4LXNocmluazogMDsgfVxyXG5cdFx0XHQuYmx1ZXNreS1saW5rLWNvbnRlbnQgeyBwYWRkaW5nOiAxMnB4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBvdmVyZmxvdzogaGlkZGVuOyB9XHJcblx0XHRcdC5ibHVlc2t5LWxpbmstdGl0bGUgeyBmb250LXdlaWdodDogNjAwOyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgfVxyXG5cdFx0XHQuYmx1ZXNreS1saW5rLWRlc2NyaXB0aW9uIHsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7IG1hcmdpbi10b3A6IDRweDsgZGlzcGxheTogLXdlYmtpdC1ib3g7IC13ZWJraXQtbGluZS1jbGFtcDogMjsgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDsgb3ZlcmZsb3c6IGhpZGRlbjsgfVxyXG5cdFx0XHQuYmx1ZXNreS1saW5rLWRvbWFpbiB7IGZvbnQtc2l6ZTogMTJweDsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOyBtYXJnaW4tdG9wOiBhdXRvOyB9XHJcbiAgICAgICAgICAgIC5ibHVlc2t5LWltYWdlLXByZXZpZXctY29udGFpbmVyIHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMTAwcHgsIDFmcikpOyBnYXA6IDhweDsgbWFyZ2luOiAxMnB4IDA7IH1cclxuICAgICAgICAgICAgLmJsdWVza3ktaW1hZ2UtcHJldmlldyB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfVxyXG4gICAgICAgICAgICAuYmx1ZXNreS1pbWFnZS1wcmV2aWV3IGltZyB7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IGF1dG87IGJvcmRlci1yYWRpdXM6IDhweDsgfVxyXG4gICAgICAgICAgICAuYmx1ZXNreS1yZW1vdmUtaW1hZ2UtYnRuIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDRweDsgcmlnaHQ6IDRweDsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjYpOyBjb2xvcjogd2hpdGU7IGJvcmRlci1yYWRpdXM6IDUwJTsgd2lkdGg6IDIwcHg7IGhlaWdodDogMjBweDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGN1cnNvcjogcG9pbnRlcjsgfVxyXG4gICAgICAgICAgICAuYmx1ZXNreS1tb2RhbC1mb290ZXIgeyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHBhZGRpbmctdG9wOiAxMnB4OyBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpOyB9XHJcblx0XHRcdC5ibHVlc2t5LWNoYXItY291bnQgeyBmb250LXNpemU6IDEycHg7IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsgfVxyXG5cdFx0XHQuYmx1ZXNreS1jaGFyLWNvdW50LmJsdWVza3ktb3Zlci1saW1pdCB7IGNvbG9yOiB2YXIoLS10ZXh0LWVycm9yKTsgZm9udC13ZWlnaHQ6IGJvbGQ7IH1cclxuXHRcdGA7XHJcblx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHsgaWYgKHRoaXMuZGVib3VuY2VUaW1lcikgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VUaW1lcik7IHRoaXMuY29udGVudEVsLmVtcHR5KCk7IH1cclxufVxyXG5cclxuY2xhc3MgQmx1ZXNreVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IEJsdWVza3lQbHVnaW47IGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEJsdWVza3lQbHVnaW4pIHsgc3VwZXIoYXBwLCBwbHVnaW4pOyB0aGlzLnBsdWdpbiA9IHBsdWdpbjsgfVxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzOyBjb250YWluZXJFbC5lbXB0eSgpOyBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdCbHVlc2t5IFBsdWdpbiBTZXR0aW5ncycgfSk7XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZSgnQmx1ZXNreSBIYW5kbGUnKS5zZXREZXNjKCdcdTMwNDJcdTMwNkFcdTMwNUZcdTMwNkVCbHVlc2t5XHUzMENGXHUzMEYzXHUzMEM5XHUzMEVCXHVGRjA4XHU0RjhCOiB1c2VybmFtZS5ic2t5LnNvY2lhbFx1RkYwOScpLmFkZFRleHQodGV4dCA9PiB0ZXh0LnNldFBsYWNlaG9sZGVyKCd1c2VybmFtZS5ic2t5LnNvY2lhbCcpLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmhhbmRsZSkub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7IHRoaXMucGx1Z2luLnNldHRpbmdzLmhhbmRsZSA9IHZhbHVlOyBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTsgfSkpO1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoJ0FwcCBQYXNzd29yZCcpLnNldERlc2MoJ0JsdWVza3lcdTMwNkVBcHAgUGFzc3dvcmRcdUZGMDhcdThBMkRcdTVCOUFcdTMwNEJcdTMwODlcdTRGNUNcdTYyMTBcdTMwNTdcdTMwNjZcdTMwNEZcdTMwNjBcdTMwNTVcdTMwNDRcdUZGMDknKS5hZGRUZXh0KHRleHQgPT4gdGV4dC5zZXRQbGFjZWhvbGRlcigneHh4eC14eHh4LXh4eHgteHh4eCcpLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnBhc3N3b3JkKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHsgdGhpcy5wbHVnaW4uc2V0dGluZ3MucGFzc3dvcmQgPSB2YWx1ZTsgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7IH0pKTtcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKCdEZWZhdWx0IEhhc2h0YWdzJykuc2V0RGVzYygnXHU2Mjk1XHU3QTNGXHUzMDZCXHU4MUVBXHU1MkQ1XHUzMDY3XHU4RkZEXHU1MkEwXHUzMDU5XHUzMDhCXHUzMENGXHUzMEMzXHUzMEI3XHUzMEU1XHUzMEJGXHUzMEIwXHVGRjA4XHU2NTM5XHU4ODRDXHUzMDU3XHUzMDY2XHU4RkZEXHU1MkEwXHUzMDU1XHUzMDhDXHUzMDdFXHUzMDU5XHVGRjA5JykuYWRkVGV4dCh0ZXh0ID0+IHRleHQuc2V0UGxhY2Vob2xkZXIoJyNvYnNpZGlhbiAjbm90ZScpLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRIYXNodGFncykub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7IHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRIYXNodGFncyA9IHZhbHVlOyBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTsgfSkpO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdcdTZDRThcdTYxMEY6IEFwcCBQYXNzd29yZFx1MzA5Mlx1NEY3Rlx1NzUyOFx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFx1MzAwMlx1MzBFMVx1MzBBNFx1MzBGM1x1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVx1MzA2Rlx1NEY3Rlx1NzUyOFx1MzA1N1x1MzA2QVx1MzA0NFx1MzA2N1x1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFx1MzAwMicsIGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgfSk7XHJcblx0fVxyXG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7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
